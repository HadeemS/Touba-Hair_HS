import{r as n,g as N,h as f,n as g,j as e}from"./index-D81LPs97.js";import{t as v}from"./toast-6IGnTReI.js";const b=()=>{const[t,m]=n.useState([]),[u,c]=n.useState(!0),[i,d]=n.useState(null),a=N(),r=f();n.useEffect(()=>{x()},[]);const x=async()=>{try{c(!0);const s=await g.getUsers();m(s.users||[]),!r&&(a!=null&&a.location)&&d(a.location)}catch(s){v.error("Failed to load staff members"),console.error("Error loading users:",s)}finally{c(!1)}},o=i?t.filter(s=>s.location===i):t,j={Sandhills:o.filter(s=>s.location==="Sandhills"),"Two Notch":o.filter(s=>s.location==="Two Notch")};return u?e.jsx("div",{className:"staff-area",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"loading",children:"Loading staff members..."})})}):e.jsx("div",{className:"staff-area",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"staff-header",children:[e.jsx("h1",{children:"Staff Directory"}),r&&e.jsxs("div",{className:"location-filter",children:[e.jsx("label",{children:"Filter by Location:"}),e.jsxs("select",{value:i||"",onChange:s=>d(s.target.value||null),children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"Sandhills",children:"Sandhills"}),e.jsx("option",{value:"Two Notch",children:"Two Notch"})]})]})]}),!r&&(a==null?void 0:a.location)&&e.jsxs("div",{className:"location-badge",children:["Your Location: ",e.jsx("strong",{children:a.location})]}),e.jsx("div",{className:"locations-grid",children:Object.entries(j).map(([s,h])=>h.length===0?null:e.jsxs("div",{className:"location-section",children:[e.jsx("h2",{className:"location-title",children:s}),e.jsx("div",{className:"users-grid",children:h.map(l=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-info",children:[e.jsx("h3",{children:l.fullName||l.name}),e.jsxs("p",{className:"user-username",children:["@",l.username||"N/A"]}),e.jsx("p",{className:"user-role",children:l.role}),l.email&&e.jsx("p",{className:"user-email",children:l.email})]}),l.forcePasswordChange&&e.jsx("span",{className:"password-change-badge",children:"Password Reset Required"})]},l.id))})]},s))}),o.length===0&&e.jsx("div",{className:"empty-state",children:e.jsxs("p",{children:["No staff members found",i?` at ${i}`:"","."]})})]})})};export{b as default};
