import{u as w,r as n,j as e,h as j}from"./index-Df9NR534.js";import{b as t}from"./braiders-zzcBmNph.js";const y=()=>{const h=w(),[r,u]=n.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",braiderId:""}),[c,a]=n.useState(""),[m,p]=n.useState(!1),[l,g]=n.useState(!1),[d,x]=n.useState(!1),i=s=>{u({...r,[s.target.name]:s.target.value}),a("")},f=async s=>{if(s.preventDefault(),a(""),!r.name||!r.email||!r.password||!r.braiderId){a("Please fill in all required fields.");return}if(r.password!==r.confirmPassword){a("Passwords do not match.");return}if(r.password.length<6){a("Password must be at least 6 characters.");return}p(!0);try{const o=await j({name:r.name,email:r.email,phone:r.phone,password:r.password,role:"employee",braiderId:r.braiderId});o.success?(alert("Braider account created successfully! You can now log in."),h("/login",{state:{from:{pathname:"/braider-profile"}}})):a(o.error||"Registration failed. Please try again.")}catch(o){console.error("Registration error:",o),a(o.message||"An error occurred. Please try again.")}finally{p(!1)}};return e.jsx("div",{className:"braider-register-page",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"register-card",children:[e.jsxs("div",{className:"register-header",children:[e.jsx("h1",{className:"register-title",children:"Braider Registration"}),e.jsx("p",{className:"register-subtitle",children:"Create your braider account"})]}),c&&e.jsx("div",{className:"error-message",children:c}),e.jsxs("form",{onSubmit:f,className:"register-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:i,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:i,required:!0,placeholder:"your.email@example.com",autoComplete:"email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:i,placeholder:"(839) 201-3566"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"braiderId",children:"Select Your Braider Profile *"}),e.jsxs("select",{id:"braiderId",name:"braiderId",value:r.braiderId,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"-- Select Braider --"}),t.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.specialty]},s.id))]}),r.braiderId&&e.jsx("div",{className:"braider-preview",children:t.find(s=>s.id===r.braiderId)&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Selected:"})," ",t.find(s=>s.id===r.braiderId).name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Specialty:"})," ",t.find(s=>s.id===r.braiderId).specialty]})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:l?"text":"password",id:"password",name:"password",value:r.password,onChange:i,required:!0,placeholder:"Enter your password (min 6 characters)",autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!l),children:l?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:d?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:i,required:!0,placeholder:"Confirm your password",autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>x(!d),children:d?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-large",disabled:m,children:m?"Creating Account...":"Create Braider Account"})]}),e.jsx("div",{className:"register-footer",children:e.jsxs("p",{children:["Already have an account? ",e.jsx("a",{href:"/login",children:"Sign in here"})]})})]})})})};export{y as default};
