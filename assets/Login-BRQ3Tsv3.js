import{u as f,e as v,r as n,j as s,l as y,f as E,d as S}from"./index-Kok3V0jD.js";import{t as x}from"./toast-6IGnTReI.js";const D=()=>{var p,u;const c=f(),j=v(),[e,g]=n.useState({email:"",password:""}),[d,i]=n.useState(""),[t,m]=n.useState(!1),[a,w]=n.useState(!1),b=((u=(p=j.state)==null?void 0:p.from)==null?void 0:u.pathname)||"/my-bookings",h=o=>{g({...e,[o.target.name]:o.target.value}),i("")},N=async o=>{o.preventDefault(),i(""),m(!0);try{const l=await y(e.email,e.password);if(l.success)setTimeout(()=>{E()?c("/admin",{replace:!0}):S()?c("/braider-profile",{replace:!0}):c(b,{replace:!0})},100);else{const r=l.error||"Invalid email or password";x.error(r),i(r)}}catch(l){const r=l.message||"An error occurred. Please try again.";x.error(r),i(r)}finally{m(!1)}};return s.jsx("div",{className:"login-page",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"login-card",children:[s.jsxs("div",{className:"login-header",children:[s.jsx("h1",{className:"login-title",children:"Welcome Back"}),s.jsx("p",{className:"login-subtitle",children:"Sign in to access your account"})]}),d&&s.jsx("div",{className:"error-message",children:d}),s.jsxs("form",{onSubmit:N,className:"login-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:h,required:!0,placeholder:"your.email@example.com",autoComplete:"email"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"password-input-wrapper",children:[s.jsx("input",{type:a?"text":"password",id:"password",name:"password",value:e.password,onChange:h,required:!0,placeholder:"Enter your password",autoComplete:"current-password",className:"password-input"}),s.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w(!a),"aria-label":a?"Hide password":"Show password",title:a?"Hide password":"Show password",children:a?s.jsx("span",{className:"password-icon","aria-hidden":"true",children:"ğŸ‘ï¸"}):s.jsx("span",{className:"password-icon","aria-hidden":"true",children:"ğŸ‘ï¸â€ğŸ—¨ï¸"})})]})]}),s.jsx("button",{type:"submit",className:"btn btn-primary btn-large",disabled:t,children:t?"Signing in...":"Sign In"})]}),s.jsxs("div",{className:"login-demo",children:[s.jsx("h3",{children:"Demo Accounts"}),s.jsxs("div",{className:"demo-accounts",children:[s.jsxs("div",{className:"demo-account",children:[s.jsx("strong",{children:"ğŸ‘‘ Admin:"}),s.jsx("p",{children:"Email: admin@toubahair.com"}),s.jsx("p",{children:"Password: Admin123!@#"}),s.jsx("small",{children:"Full access to admin dashboard"})]}),s.jsxs("div",{className:"demo-account",children:[s.jsx("strong",{children:"ğŸ‘¨â€ğŸ’¼ Employee (Example):"}),s.jsx("p",{children:"Email: mariama@toubahair.com"}),s.jsx("p",{children:"Password: Employee123!"}),s.jsx("small",{children:"Access braider dashboard"})]}),s.jsxs("div",{className:"demo-account",children:[s.jsx("strong",{children:"ğŸ‘¤ Client (Example):"}),s.jsx("p",{children:"Email: customer1@example.com"}),s.jsx("p",{children:"Password: Customer123!"}),s.jsx("small",{children:"Access bookings & rewards"})]}),s.jsx("div",{className:"demo-account-note",children:s.jsx("small",{children:"ğŸ“‹ See DEMO_CREDENTIALS.md for all accounts"})})]})]}),s.jsxs("div",{className:"login-footer",children:[s.jsxs("p",{children:["Don't have an account? ",s.jsx("a",{href:"/register",children:"Sign up here"})]}),s.jsxs("p",{children:["Are you a braider? ",s.jsx("a",{href:"/braider-register",children:"Create braider account"})]})]})]})})})};export{D as default};
