import{u as b,r as t,j as e,k as v}from"./index-ekhgIEl4.js";import{b as l}from"./braiders-zzcBmNph.js";import{t as m}from"./toast-6IGnTReI.js";const P=()=>{const g=b(),[r,x]=t.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",braiderId:""}),[p,a]=t.useState(""),[u,h]=t.useState(!1),[d,f]=t.useState(!1),[c,w]=t.useState(!1),i=s=>{x({...r,[s.target.name]:s.target.value}),a("")},j=async s=>{if(s.preventDefault(),a(""),!r.name||!r.email||!r.password||!r.braiderId){a("Please fill in all required fields.");return}if(r.password!==r.confirmPassword){a("Passwords do not match.");return}if(r.password.length<6){a("Password must be at least 6 characters.");return}h(!0);try{const n=await v({name:r.name,email:r.email,phone:r.phone,password:r.password,role:"employee",braiderId:r.braiderId});if(n.success)m.success("Braider account created successfully! You can now log in."),g("/login",{state:{from:{pathname:"/braider-profile"}}});else{const o=n.error||"Registration failed. Please try again.";a(o),m.error(o)}}catch(n){const o=n.message||"An error occurred. Please try again.";a(o),m.error(o)}finally{h(!1)}};return e.jsx("div",{className:"braider-register-page",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"register-card",children:[e.jsxs("div",{className:"register-header",children:[e.jsx("h1",{className:"register-title",children:"Braider Registration"}),e.jsx("p",{className:"register-subtitle",children:"Create your braider account"})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:j,className:"register-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:i,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:i,required:!0,placeholder:"your.email@example.com",autoComplete:"email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:i,placeholder:"(839) 201-3566"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"braiderId",children:"Select Your Braider Profile *"}),e.jsxs("select",{id:"braiderId",name:"braiderId",value:r.braiderId,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"-- Select Braider --"}),l.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.specialty]},s.id))]}),r.braiderId&&e.jsx("div",{className:"braider-preview",children:l.find(s=>s.id===r.braiderId)&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Selected:"})," ",l.find(s=>s.id===r.braiderId).name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Specialty:"})," ",l.find(s=>s.id===r.braiderId).specialty]})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:d?"text":"password",id:"password",name:"password",value:r.password,onChange:i,required:!0,placeholder:"Enter your password (min 6 characters)",autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!d),children:d?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:i,required:!0,placeholder:"Confirm your password",autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w(!c),children:c?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-large",disabled:u,children:u?"Creating Account...":"Create Braider Account"})]}),e.jsx("div",{className:"register-footer",children:e.jsxs("p",{children:["Already have an account? ",e.jsx("a",{href:"/login",children:"Sign in here"})]})})]})})})};export{P as default};
